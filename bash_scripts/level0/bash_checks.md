
# Использование проверок в Bash скриптах

В Bash скриптах важно использовать проверки для предотвращения ошибок и обеспечения корректного выполнения скрипта. Ниже приведены основные проверки, которые часто используются в Bash.

## 1. Проверка на наличие аргумента

Эта проверка позволяет убедиться, что пользователь передал необходимый аргумент при запуске скрипта.

```bash
if [ -z "$1" ]; then
    echo "Необходимо указать директорию."
    exit 1
fi
```

### Объяснение:
- **`[ -z "$1" ]`**: Проверяет, является ли первый аргумент пустым. `-z` означает "пустая строка". Если аргумент пуст, условие будет истинным.
- **`echo "Необходимо указать директорию."`**: Выводит сообщение об ошибке.
- **`exit 1`**: Завершает выполнение скрипта с кодом ошибки `1`. Этот код может использоваться для диагностики в других скриптах или командах.

## 2. Проверка существования директории

Эта проверка используется для проверки того, существует ли указанная директория.

```bash
if [ ! -d "$1" ]; then
    echo "Директория $1 не существует."
    exit 1
fi
```

### Объяснение:
- **`[ ! -d "$1" ]`**: Проверяет, существует ли директория, переданная как первый аргумент. `-d` означает "директория". `!` отрицает условие, то есть условие истинно, если директория не существует.
- **`echo "Директория $1 не существует."`**: Выводит сообщение об ошибке, если директория не найдена.
- **`exit 1`**: Завершает выполнение скрипта с кодом ошибки `1`.

## 3. Проверка существования файла

Аналогично проверке директории, эта проверка используется для проверки того, существует ли файл.

```bash
if [ ! -f "$1" ]; then
    echo "Файл $1 не существует."
    exit 1
fi
```

### Объяснение:
- **`[ ! -f "$1" ]`**: Проверяет, существует ли файл, переданный как первый аргумент. `-f` означает "файл". Если файл не существует, условие истинно.
- **`echo "Файл $1 не существует."`**: Выводит сообщение об ошибке.
- **`exit 1`**: Завершает выполнение скрипта с кодом ошибки `1`.

## 4. Проверка на доступность записи в файл или директорию

Эта проверка позволяет убедиться, что файл или директория доступны для записи.

```bash
if [ ! -w "$1" ]; then
    echo "Нет прав на запись в $1."
    exit 1
fi
```

### Объяснение:
- **`[ ! -w "$1" ]`**: Проверяет, можно ли записать данные в файл или директорию. `-w` означает "доступ на запись". Если доступа нет, условие истинно.
- **`echo "Нет прав на запись в $1."`**: Выводит сообщение о недостатке прав.
- **`exit 1`**: Завершает выполнение скрипта с кодом ошибки `1`.

## 5. Проверка на доступность чтения из файла или директории

Эта проверка позволяет убедиться, что файл или директория доступны для чтения.

```bash
if [ ! -r "$1" ]; then
    echo "Нет прав на чтение из $1."
    exit 1
fi
```

### Объяснение:
- **`[ ! -r "$1" ]`**: Проверяет, можно ли читать данные из файла или директории. `-r` означает "доступ на чтение". Если доступа нет, условие истинно.
- **`echo "Нет прав на чтение из $1."`**: Выводит сообщение о недостатке прав.
- **`exit 1`**: Завершает выполнение скрипта с кодом ошибки `1`.

---

Эти проверки помогут вам создавать более надёжные и устойчивые к ошибкам скрипты, обеспечивая правильную обработку входных данных и условий.
