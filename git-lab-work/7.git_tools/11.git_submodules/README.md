
# Лабораторная работа: Git Подмодули на Linux

## Цель работы:
Научиться использовать подмодули Git для интеграции одного проекта в другой с возможностью независимого управления версиями.

## Основные команды:
1. **git submodule add** — добавление подмодуля в репозиторий.
2. **git submodule init** — инициализация подмодулей при клонировании.
3. **git submodule update** — обновление и клонирование подмодулей.
4. **git clone --recurse-submodules** — клонирование репозитория вместе с подмодулями.

## Задание 1: Добавление подмодуля
1. Создайте основной проект, если его ещё нет.
    ```bash
    git init MainProject
    cd MainProject
    ```
2. Добавьте новый подмодуль в проект, используя команду `git submodule add`:
    ```bash
    git submodule add <URL_репозитория_подмодуля>
    ```
3. Проверьте состояние подмодуля с помощью команды `git status`.

## Задание 2: Коммит изменений с подмодулем
1. Закоммитьте изменения, связанные с добавлением подмодуля.
    ```bash
    git commit -am "Добавлен подмодуль"
    ```

## Задание 3: Клонирование проекта с подмодулями
1. Клонируйте проект, содержащий подмодуль.
    ```bash
    git clone <URL_репозитория>
    ```
2. Проверьте наличие подмодуля и выполните его инициализацию и обновление:
    ```bash
    git submodule init
    git submodule update
    ```

## Задание 4: Использование опции --recurse-submodules
1. Клонируйте проект с подмодулем, используя опцию `--recurse-submodules` для автоматической инициализации и обновления подмодулей.
    ```bash
    git clone --recurse-submodules <URL_репозитория>
    ```


# Лабораторная работа: Работа с подмодулями Git на Linux (Часть 2)

## Цель работы:
Научиться управлять изменениями в подмодулях Git, получать обновления из удалённых репозиториев и синхронизировать подмодули с основным проектом.

## Основные команды:
1. **git fetch** — получение изменений в подмодуле из удалённого репозитория.
2. **git merge** — слияние изменений в подмодуле.
3. **git submodule update --remote** — обновление подмодуля до последнего коммита в удалённом репозитории.
4. **git pull --recurse-submodules** — автоматическое обновление подмодулей при получении изменений из удалённого репозитория.
5. **git submodule sync** — синхронизация URL подмодуля при изменениях.

## Задание 1: Получение изменений в подмодуле
1. Перейдите в каталог подмодуля и выполните команды для получения и слияния изменений:
    ```bash
    cd <каталог_подмодуля>
    git fetch
    git merge origin/master
    ```

## Задание 2: Обновление подмодуля
1. Обновите подмодуль до последнего состояния удалённой ветки:
    ```bash
    git submodule update --remote <подмодуль>
    ```

## Задание 3: Клонирование и обновление подмодулей
1. Выполните команду для получения изменений в основном проекте и подмодулях:
    ```bash
    git pull --recurse-submodules
    ```

2. Обновите подмодули при наличии изменений в их URL:
    ```bash
    git submodule sync --recursive
    git submodule update --init --recursive
    ```

# Лабораторная работа: Работа с подмодулями Git на Linux (Часть 3)

## Цель работы:
Научиться работать с подмодулями в Git, изменять их, сливать и отправлять изменения в удалённые репозитории, а также разрешать конфликты при слиянии подмодулей.

## Основные команды:
1. **git checkout** — переключение на ветку подмодуля для работы.
2. **git submodule update --remote --merge** — обновление подмодуля с слиянием изменений.
3. **git submodule update --remote --rebase** — обновление подмодуля с применением изменений на основе rebase.
4. **git push --recurse-submodules** — отправка изменений в подмодулях вместе с основным проектом.
5. **git merge** — слияние изменений в подмодуле при наличии конфликтов.

## Задание 1: Работа с изменениями в подмодуле
1. Перейдите в каталог подмодуля и переключитесь на нужную ветку:
    ```bash
    cd <каталог_подмодуля>
    git checkout <ветка>
    ```

2. Выполните команду для обновления подмодуля с слиянием изменений:
    ```bash
    git submodule update --remote --merge
    ```

## Задание 2: Внесение изменений и разрешение конфликтов
1. Внесите локальные изменения в подмодуль и закоммитьте их.
    ```bash
    git commit -am "Внесены локальные изменения в подмодуль"
    ```

2. Выполните команду для обновления подмодуля с rebase:
    ```bash
    git submodule update --remote --rebase
    ```

## Задание 3: Отправка изменений подмодуля
1. Отправьте изменения как в основной проект, так и в подмодуль:
    ```bash
    git push --recurse-submodules=on-demand
    ```

## Задание 4: Разрешение конфликтов при слиянии подмодуля
1. При наличии конфликтов выполните слияние вручную, используя следующие команды:
    ```bash
    git merge <конфликтующий_коммит>
    vim <файл_с_конфликтом>
    git add <файл_с_конфликтом>
    git commit -am "Разрешён конфликт слияния"
    ```


# Лабораторная работа: Полезные советы при работе с подмодулями Git на Linux (Часть 4)

## Цель работы:
Ознакомиться с полезными командами и хитростями при работе с подмодулями в Git, а также научиться решать проблемы, возникающие при использовании подмодулей.

## Основные команды:
1. **git submodule foreach** — выполнение команд во всех подмодулях.
2. **git stash** — сохранение изменений в стэше.
3. **git checkout --recurse-submodules** — переключение между ветками с обновлением подмодулей.
4. **git clean** — удаление неотслеживаемых файлов и подкаталогов.

## Задание 1: Использование команды foreach
1. Выполните команду, которая сохранит все изменения во всех подмодулях в стэше:
    ```bash
    git submodule foreach 'git stash'
    ```

2. Создайте новую ветку во всех подмодулях:
    ```bash
    git submodule foreach 'git checkout -b <новая_ветка>'
    ```

## Задание 2: Полезные псевдонимы для работы с подмодулями
1. Настройте псевдонимы для удобной работы с подмодулями:
    ```bash
    git config alias.sdiff '!git diff && git submodule foreach "git diff"'
    git config alias.spush 'push --recurse-submodules=on-demand'
    git config alias.supdate 'submodule update --remote --merge'
    ```

2. Используйте команду `git supdate` для обновления всех подмодулей:
    ```bash
    git supdate
    ```

## Задание 3: Работа с переключением веток и подмодулями
1. Создайте новую ветку и добавьте подмодуль:
    ```bash
    git checkout -b add-submodule
    git submodule add <URL_подмодуля>
    git commit -am "Добавлен новый подмодуль"
    ```

2. Переключитесь обратно на основную ветку с параметром `--recurse-submodules`:
    ```bash
    git checkout --recurse-submodules master
    ```

## Задание 4: Решение проблем с подмодулями
1. При переключении между ветками используйте `git submodule update --init --recursive` для синхронизации подмодулей:
    ```bash
    git submodule update --init --recursive
    ```

2. Настройте Git для автоматического использования параметра `--recurse-submodules`:
    ```bash
    git config submodule.recurse true
    ```

## Заключение
В данной лабораторной работе вы познакомились с полезными командами для работы с подмодулями, настройкой псевдонимов для облегчения работы, а также с методами решения проблем, возникающих при переключении веток и использовании подмодулей.
