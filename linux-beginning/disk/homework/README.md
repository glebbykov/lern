
# Домашнее задание: Монтирование и управление дисками, LVM, использование swap в Linux (Debian)

## Теоретические вопросы

1. Что происходит при монтировании и размонтировании файловых систем? Почему монтирование необходимо для доступа к данным?
2. Какие основные параметры можно указать в `/etc/fstab` для автоматического монтирования файловых систем? Приведите пример строки из этого файла.
3. Как проверить, какие устройства уже смонтированы в системе?
4. Опишите основные команды для работы с LVM (создание, изменение размера, удаление).
5. Для чего используется swap? Какие преимущества и недостатки использования swap-разделов или swap-файлов?
6. Какую команду можно использовать для временного отключения swap? Как включить его обратно?
7. Чем отличается primary раздел от extended и logical?
8. Как узнать, какие разделы уже созданы на диске?
9. Что делать, если таблица разделов была случайно повреждена?
10. Какие ключевые параметры доступны в утилите `stress`? Приведите примеры использования.
11. Чем опасны тесты нагрузки для продакшн-систем?
12. Как определить пределы нагрузки, которые может выдержать система?

---

## Практические задания

### 1. Работа с fdisk
1. Подключите новый диск (виртуальный или физический) к системе.
2. Используйте `fdisk` для создания нового раздела:
   - Создайте primary и extended разделы.
   - Настройте файловую систему для созданных разделов.
3. Проверьте, какие изменения были внесены в таблицу разделов, используя `lsblk` или `parted`.
4. Форматируйте созданный раздел в файловую систему ext4 или xfs.
5. Смонтируйте раздел в систему и убедитесь, что он работает корректно.
6. Добавьте запись в `/etc/fstab` для автоматического монтирования созданного раздела.

### 2. Монтирование файловых систем
1. Подключите новый диск (виртуальный или физический) к системе.
2. Создайте на диске новую файловую систему (например, ext4).
   - Используйте команду `mkfs` для форматирования.
3. Создайте точку монтирования (например, `/mnt/newdisk`).
4. Смонтируйте диск вручную и проверьте, что он доступен в системе.
5. Настройте автоматическое монтирование нового диска при старте системы, добавив запись в `/etc/fstab`.
6. Проверьте работоспособность: размонтируйте и снова смонтируйте диск с использованием команды `mount -a`.

### 3. Работа с LVM
1. Добавьте несколько новых дисков или файлов как виртуальные блочные устройства.
2. Создайте физические тома (Physical Volumes, PV) на каждом из них с помощью команды `pvcreate`.
3. Создайте группу томов (Volume Group, VG) с использованием созданных PV.
4. Создайте логический том (Logical Volume, LV) размером 1 ГБ в группе томов.
5. Создайте файловую систему на логическом томе и смонтируйте его.
6. Увеличьте размер логического тома до 2 ГБ, не удаляя его данные.
   - После увеличения убедитесь, что размер файловой системы соответствует новым параметрам.

### 4. Работа со swap
1. Создайте новый swap-раздел на отдельном диске или файле:
   - Используйте команду `mkswap` для создания раздела.
2. Подключите swap с помощью команды `swapon`.
3. Настройте автоматическое подключение swap в `/etc/fstab`.
4. Проверьте, что swap активно используется системой (`free` или `swapon --show`).
5. Отключите swap и удалите его из системы.
6. Вместо раздела создайте swap-файл, подключите его и убедитесь в работоспособности.

### 5. Тестирование нагрузки с помощью stress
1. Установите утилиту `stress` (если не установлена).
2. Создайте нагрузку на процессор, используя `stress`, чтобы загрузить 100% одного или нескольких ядер.
3. Проверьте влияние нагрузки на систему:
   - Используйте `htop` или `top` или `btop` для мониторинга использования ресурсов.
   - Сравните поведение системы с активным swap и без него.
4. Создайте нагрузку на оперативную память, используя `stress`, и убедитесь, что система начинает использовать swap.
5. Проверьте, как долго система справляется с максимальной нагрузкой без сбоев.

---

Если возникнут вопросы или проблемы в процессе выполнения, обязательно зафиксируйте их и скиньте в чат или обсудим на занятии
